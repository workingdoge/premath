{"id":"bd-1","title":"Conformance: Spec Traceability Matrix for Promoted Draft Specs","description":"Build and maintain a spec-to-vector traceability matrix mapping promoted draft specs under specs/premath/draft/ to executable conformance vectors and checks. Identify unmapped specs and add required coverage targets.","notes":"Completed spec traceability pass: added draft/SPEC-TRACEABILITY matrix, linked from draft README/SPEC-INDEX/CONFORMANCE, and opened discovered coverage targets bd-13..bd-18 (T-IC-01, T-GATE-01, T-WID-01, T-INDEX-01, T-DINF-01, T-KERNEL-01).","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-21T21:41:39.724462Z","updated_at":"2026-02-22T00:22:51.923596Z","closed_at":"2026-02-22T00:22:51.923598Z","ephemeral":false,"dependencies":[{"issue_id":"bd-1","depends_on_id":"bd-5","type":"blocks"}]}
{"id":"bd-10","title":"[Coherence v1] Observation Coherence Dashboard + Attention Projections","description":"Add explicit observation projections for policy drift, unknown classification rate, proposal reject classes, blocked-vs-ready partition integrity, and stale claims; expose through observe_* and docs dashboard.","notes":"Implemented observation coherence projections end-to-end. Observation Surface now computes summary.coherence with policy drift, instruction unknown-rate, proposal reject class aggregation, ready-vs-blocked partition integrity, and stale/contended lease health from .premath/issues.jsonl. Exposed through observe_latest/needs_attention (Rust UX + CLI), updated docs dashboard panels/metrics, and added reducer + semantics tests. Verified with `python3 tools/ci/test_observation_surface.py`, `cargo test -p premath-surreal`, `cargo test -p premath-ux`, `cargo test -p premath-cli`, `mise run ci-observation-check`.","status":"closed","priority":3,"issue_type":"task","assignee":"codex","created_at":"2026-02-21T23:07:04.277911Z","updated_at":"2026-02-22T01:24:24.930622Z","closed_at":"2026-02-22T01:24:24.930624Z","ephemeral":false,"dependencies":[{"issue_id":"bd-10","depends_on_id":"bd-7","type":"blocks"},{"issue_id":"bd-10","depends_on_id":"bd-9","type":"blocks"},{"issue_id":"bd-10","depends_on_id":"bd-12","type":"blocks"},{"issue_id":"bd-10","depends_on_id":"bd-4","type":"discovered-from"}]}
{"id":"bd-11","title":"[Coherence v1] Add Profile Overlay Claim Plumbing (specs/premath/profile)","description":"Introduce profile-overlay claim wiring in this repo (directory, claim declaration surface, doctrine-site/spec-index integration) so optional overlays are explicit and additive to base claims.","notes":"Completed profile overlay plumbing: added specs/premath/profile/ADJOINTS-AND-SITES.md and profile/README.md; updated draft/SPEC-INDEX with overlay claim scope + reading order; updated draft/README related links; added Decision 0010 in specs/process/decision-log.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T23:07:45.864868Z","updated_at":"2026-02-21T23:13:54.898148Z","closed_at":"2026-02-21T23:13:54.898152Z","ephemeral":false}
{"id":"bd-12","title":"[Coherence v1] Capability Vectors for Adjoints/Sites Obligations","description":"Add executable vectors and witness mappings for adjoint_triangle, beck_chevalley_sigma/pi, and refinement invariance under profile-scoped admissible maps, bound to (normalizerId, policyDigest).","notes":"Added executable capability claim capabilities.adjoints_sites with golden/adversarial/invariance vectors for adjoint_triangle, beck_chevalley_sigma, beck_chevalley_pi, and refinement_invariance obligations bound to (normalizerId, policyDigest). Extended instruction proposal obligation/discharge mapping to include these profile obligations and deterministic hint-based failure classes. Updated capability/conformance/spec-index docs and decision log.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T23:07:49.362129Z","updated_at":"2026-02-21T23:46:09.298712Z","closed_at":"2026-02-21T23:46:09.298715Z","ephemeral":false,"dependencies":[{"issue_id":"bd-12","depends_on_id":"bd-6","type":"blocks"},{"issue_id":"bd-12","depends_on_id":"bd-4","type":"discovered-from"}]}
{"id":"bd-13","title":"[Traceability] T-IC-01 Interop Core executable vectors","description":"Implement executable interop-core vectors and runner integration covering KCIR-CORE, REF-BINDING, NF parser/constructor contracts, WIRE-FORMATS, and ERROR-CODES.","notes":"Completed T-IC-01: added executable interop-core vectors and deterministic runner (tools/conformance/run_interop_core_vectors.py), integrated into mise conformance-run, updated traceability matrix statuses for KCIR-CORE/REF-BINDING/NF/WIRE-FORMATS/ERROR-CODES to covered, and passed full baseline.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:22:24.866012Z","updated_at":"2026-02-22T00:31:56.838751Z","closed_at":"2026-02-22T00:31:56.838759Z","ephemeral":false,"dependencies":[{"issue_id":"bd-13","depends_on_id":"bd-1","type":"discovered-from"}]}
{"id":"bd-14","title":"[Traceability] T-GATE-01 Canonical Gate vectors","description":"Promote tests/conformance/fixtures/gate from placeholder to executable deterministic golden/adversarial Gate vectors and wire into merge-gated conformance command surface.","notes":"Completed T-GATE-01: added canonical gate fixture suite under tests/conformance/fixtures/gate with deterministic runner tools/conformance/run_gate_vectors.py, integrated gate vectors into mise conformance-run, updated traceability matrix to mark GATE covered, and passed full baseline.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:22:29.628179Z","updated_at":"2026-02-22T00:36:32.943940Z","closed_at":"2026-02-22T00:36:32.943941Z","ephemeral":false,"dependencies":[{"issue_id":"bd-14","depends_on_id":"bd-1","type":"discovered-from"}]}
{"id":"bd-15","title":"[Traceability] T-WID-01 Witness-ID conformance vectors","description":"Add fixture-level witness-id determinism/sensitivity conformance vectors and executable validation path in merge-gated conformance checks.","notes":"Implemented executable witness-id conformance vectors and merge-gated runner path. Added tests/conformance/fixtures/witness-id suite (stability under excluded fields + sensitivity to class/lawRef/tokenPath/context), added tools/conformance/run_witness_id_vectors.py, wired suite into tools/conformance/run_fixture_suites.py (conformance-run), and updated conformance/docs traceability surfaces. SPEC-TRACEABILITY now marks WITNESS-ID.md covered; decision log entry added for T-WID-01 execution.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:22:35.137565Z","updated_at":"2026-02-22T00:59:31.869071Z","closed_at":"2026-02-22T00:59:31.869074Z","ephemeral":false,"dependencies":[{"issue_id":"bd-15","depends_on_id":"bd-1","type":"discovered-from"}]}
{"id":"bd-16","title":"[Traceability] T-INDEX-01 Matrix integrity check","description":"Add deterministic checker enforcing that every promoted draft spec appears exactly once in SPEC-TRACEABILITY with status classification and target IDs for gaps.","notes":"Implemented deterministic traceability matrix integrity checker and wired it into baseline. Added tools/conformance/check_spec_traceability.py enforcing: every promoted draft spec appears exactly once in SPEC-TRACEABILITY, status in {covered,instrumented,gap}, gap rows require T-*-* target IDs, and no unknown matrix rows. Added mise task traceability-check and included it in baseline. Updated SPEC-TRACEABILITY to mark SPEC-INDEX and SPEC-TRACEABILITY covered and removed T-INDEX-01 open target section. Updated CI/conformance docs and decision log (Decision 0024).","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:22:39.021956Z","updated_at":"2026-02-22T01:02:05.256857Z","closed_at":"2026-02-22T01:02:05.256859Z","ephemeral":false,"dependencies":[{"issue_id":"bd-16","depends_on_id":"bd-1","type":"discovered-from"}]}
{"id":"bd-17","title":"[Traceability] T-DINF-01 Doctrine-Inf semantic coverage upgrade","description":"Extend doctrine validation beyond declaration/graph coherence into executable law-level checks for declared preserved/not-preserved morphism boundaries.","notes":"Implemented T-DINF-01 doctrine semantic boundary coverage: added doctrine-inf executable vectors + fixtures, wired doctrine-check to run both site and semantic checks, updated AGENTS/docs/traceability/raw CI-TOPOS, and logged Decision 0025. Verified with `mise run doctrine-check` and `mise run traceability-check`.","status":"closed","priority":3,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:22:43.700207Z","updated_at":"2026-02-22T01:06:33.828660Z","closed_at":"2026-02-22T01:06:33.828662Z","ephemeral":false,"dependencies":[{"issue_id":"bd-17","depends_on_id":"bd-1","type":"discovered-from"}]}
{"id":"bd-18","title":"[Traceability] T-KERNEL-01 Cross-model kernel vector profile","description":"Define canonical cross-model kernel conformance vector profile for reproducible comparisons in addition to host-specific proof/test surfaces.","notes":"Executed T-KERNEL-01 with canonical cross-model kernel profile vectors. Added tools/conformance/run_kernel_profile_vectors.py + tests/conformance/fixtures/kernel-profile, wired kernel-profile into cached run_fixture_suites/conformance-run, updated traceability/docs/spec references, and recorded Decision 0026. Verified with run_kernel_profile_vectors, run_fixture_suites --suite kernel-profile (RUN/HIT), mise run conformance-run, and mise run traceability-check.","status":"closed","priority":3,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:22:46.892859Z","updated_at":"2026-02-22T01:12:46.184772Z","closed_at":"2026-02-22T01:12:46.184776Z","ephemeral":false,"dependencies":[{"issue_id":"bd-18","depends_on_id":"bd-1","type":"discovered-from"}]}
{"id":"bd-19","title":"[Conformance] Ensure all fixture suites are hook-gated with caching","description":"Ensure interop-core, gate, and capability fixture suites are all covered in pre-commit/pre-push gate paths with deterministic caching to avoid redundant reruns while preserving correctness.","notes":"Implemented deterministic KCIR-style fixture-suite caching and hook-gated executable conformance projection. Added tools/conformance/run_fixture_suites.py (kcir.cache.fixture-suite.v1 bindings, kcir1 refs, .premath/cache storage, PREMATH_CONFORMANCE_CACHE toggle), switched mise conformance-run to use suite runner, updated change projection to require conformance-run on conformance-surface deltas, updated capability vector fixture expectations, and updated conformance/CI docs to match command surface.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:37:55.046735Z","updated_at":"2026-02-22T00:46:19.172289Z","closed_at":"2026-02-22T00:46:19.172292Z","ephemeral":false,"dependencies":[{"issue_id":"bd-19","depends_on_id":"bd-2","type":"discovered-from"}]}
{"id":"bd-2","title":"Conformance: Capability Vector Gap Audit and Fixture Backfill","description":"Audit current capability vectors and fixture inventories for missing or weak coverage (including stub/invariance pairs). Propose and add concrete vectors/fixtures to close identified gaps.","notes":"Backfilled capability gap for change_morphisms lease lifecycle. Added conformance vectors for issue_lease_renew and issue_lease_release (golden + adversarial), added evaluator routes/failure classes in tools/conformance/run_capability_vectors.py, updated capability docs/decision log language, and validated via check_stub_invariance + run_capability_vectors + mise run conformance-run (cache hits observed).","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-21T21:41:39.730935Z","updated_at":"2026-02-22T01:30:03.491377Z","closed_at":"2026-02-22T01:30:03.491378Z","ephemeral":false,"dependencies":[{"issue_id":"bd-2","depends_on_id":"bd-1","type":"blocks"}]}
{"id":"bd-20","title":"[Hygiene] Add deterministic no-leak guard for private/local artifacts","description":"Add a repository hygiene check to fail when tracked/staged changes include private/local surfaces (e.g. .serena/, .claude/, .premath/cache/, ad-hoc temp artifacts) outside explicit allowlists, and wire into baseline/hook gate path.","notes":"Implemented deterministic repo hygiene guardrails and fail-closed projection hardening. Added tools/ci/check_repo_hygiene.py with forbidden private/local surfaces and required .gitignore entry checks; added unit tests (tools/ci/test_repo_hygiene.py); wired ci-hygiene-check into mise baseline and hk pre-commit fast steps; extended ci-pipeline-test to include hygiene tests. Hardened change projection so mixed known+unknown non-doc deltas fail closed to baseline, and added executable change_morphisms vector golden/mixed_known_unknown_surface_runs_baseline plus manifest/runner updates. Updated CI/conformance docs and AGENTS command surface references.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T00:46:25.846947Z","updated_at":"2026-02-22T00:54:17.788796Z","closed_at":"2026-02-22T00:54:17.788800Z","ephemeral":false,"dependencies":[{"issue_id":"bd-20","depends_on_id":"bd-19","type":"discovered-from"}]}
{"id":"bd-21","title":"[Conformance] Add lease_id_mismatch adversarial vector for change_morphisms","description":"Backfill executable adversarial coverage for lease release id mismatch in capabilities.change_morphisms so CAPABILITY-VECTORS spec claims match conformance evidence. Add fixture(s), evaluator routing (if needed), and run conformance gates.","notes":"Added missing adversarial executable coverage for lease_id_mismatch under capabilities.change_morphisms. Added vector manifest entry and fixture pair (issue_lease_release_id_mismatch_reject), routed vector in run_capability_vectors dispatcher, and validated with check_stub_invariance + run_capability_vectors + mise run conformance-run (capabilities=8, vectors=92).","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T01:39:44.004450Z","updated_at":"2026-02-22T01:40:56.103671Z","closed_at":"2026-02-22T01:40:56.103673Z","ephemeral":false}
{"id":"bd-22","title":"[Docs Coherence] Resolve SPEC-INDEX normative vs informative scope contradiction","description":"Fix contradictory classification in specs/premath/draft/SPEC-INDEX.md where LLM/CI/SQUEAK capability docs are listed as normative when claimed and also listed as informative. Establish one authoritative rule: capability/profile docs are normative only when claimed; otherwise informative context. Update wording in sections 5.4/5.5 and confirm against CONFORMANCE/CAPABILITY-VECTORS.","notes":"Resolved normative-vs-informative contradiction in SPEC-INDEX by making conditional normativity explicit in §5.5 for LLM-INSTRUCTION-DOCTRINE, LLM-PROPOSAL-CHECKING, raw/SQUEAK-SITE, and raw/PREMATH-CI; clarified informative/default status unless claimed under §5.4/§5.6. Verified with check_spec_traceability and doctrine-check.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T01:45:43.967466Z","updated_at":"2026-02-22T01:56:07.981597Z","closed_at":"2026-02-22T01:56:07.981600Z","ephemeral":false}
{"id":"bd-23","title":"[Docs Coherence] Refresh CI closure architecture docs to match executable baseline","description":"Update docs/design/CI-CLOSURE.md and docs/design/ARCHITECTURE-MAP.md to reflect current baseline/CI chain in .mise.toml and tools/ci (traceability-check, doctrine-check + doctrine-inf vectors, pipeline/observation/instruction checks, fixture-suite conformance runner). Ensure docs explicitly treat .mise.toml + pipeline scripts as operational source of truth.","notes":"Updated docs/design/CI-CLOSURE.md and docs/design/ARCHITECTURE-MAP.md to match current executable baseline and CI entrypoints. Added explicit operational source-of-truth references (.mise.toml tasks + pipeline scripts), refreshed baseline closure description (traceability/doctrine/conformance-run + CI/control-plane checks), and included LLM-PROPOSAL-CHECKING in doctrine layer/path.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T01:45:48.825612Z","updated_at":"2026-02-22T01:57:10.718585Z","closed_at":"2026-02-22T01:57:10.718588Z","ephemeral":false}
{"id":"bd-24","title":"[Docs Coherence] Align README capability closure list with conformance set","description":"README baseline/conformance summary omits capabilities.adjoints_sites while run_capability_vectors and conformance docs include it. Update README capability closure list so documented gate scope matches executable conformance scope.","notes":"Aligned README baseline capability closure list with executable conformance capability set by adding capabilities.adjoints_sites. Verified parity against tools/conformance/README.md and run_capability_vectors capability registry.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-22T01:45:51.871031Z","updated_at":"2026-02-22T01:57:10.741864Z","closed_at":"2026-02-22T01:57:10.741867Z","ephemeral":false}
{"id":"bd-25","title":"[Docs Tooling] Add deterministic docs-coherence check for architecture surfaces","description":"Add a lightweight check that prevents drift between executable operational surfaces (.mise.toml, tools/ci/*, tools/conformance/*) and key docs (README, docs/design/CI-CLOSURE.md, docs/design/ARCHITECTURE-MAP.md, SPEC-INDEX normative scope statements). Start with critical invariants: capability list parity, baseline gate parity, and normative-vs-informative consistency for capability-scoped docs.","notes":"Implemented deterministic docs-coherence checker at tools/conformance/check_docs_coherence.py and wired mise task docs-coherence-check into baseline. Check enforces: executable capability parity (run_capability_vectors DEFAULT set vs README/tools-conformance/SPEC-INDEX §5.4 + fixture manifests), baseline task parity (.mise [tasks.baseline] vs docs/design/CI-CLOSURE baseline list), projected check parity (tools/ci/change_projection CHECK_ORDER vs CI-CLOSURE projected list), and SPEC-INDEX §5.4/§5.5 conditional normativity clauses for capability-scoped docs. Added parser unit tests tools/conformance/test_docs_coherence.py and included in ci-pipeline-test. Updated docs surfaces (README, CI-CLOSURE, ARCHITECTURE-MAP, tools/conformance/README, AGENTS). Verified with python3 tools/conformance/test_docs_coherence.py, python3 tools/conformance/check_docs_coherence.py, mise run docs-coherence-check, mise run traceability-check, mise run doctrine-check, mise run ci-pipeline-test, and full mise run baseline.","status":"closed","priority":3,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T01:45:56.590860Z","updated_at":"2026-02-22T02:10:37.189710Z","closed_at":"2026-02-22T02:10:37.189714Z","ephemeral":false,"dependencies":[{"issue_id":"bd-25","depends_on_id":"bd-22","type":"blocks"},{"issue_id":"bd-25","depends_on_id":"bd-23","type":"blocks"},{"issue_id":"bd-25","depends_on_id":"bd-24","type":"blocks"}]}
{"id":"bd-26","title":"[EPIC] premath-coherence: typed coherence contract + kernel-backed checker","description":"Define a first-class Premath coherence contract artifact and executable checker surface. Scope: (1) new spec draft/PREMATH-COHERENCE and machine artifact draft/COHERENCE-CONTRACT.json, (2) obligation compilation for scope_noncontradiction/capability_parity/gate_chain_parity/operation_reachability/overlay_traceability, (3) deterministic failure classes + witness schema, (4) implementation as kernel-backed checking adapter (new premath-coherence surface) without changing premath-kernel authority, (5) baseline integration and traceability row updates.","notes":"Implemented premath-coherence crate + coherence-check CLI, added coherence contract/spec/docs traceability, added baseline coherence gate, aligned conformance proposal canonicalization with instruction_proposal checker, tightened instruction envelope binding whitespace validation, added reject witness test coverage, and verified full baseline pass.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T01:53:16.361383Z","updated_at":"2026-02-22T02:30:08.190370Z","closed_at":"2026-02-22T02:30:08.190373Z","ephemeral":false,"dependencies":[{"issue_id":"bd-26","depends_on_id":"bd-22","type":"blocks"},{"issue_id":"bd-26","depends_on_id":"bd-23","type":"blocks"},{"issue_id":"bd-26","depends_on_id":"bd-24","type":"blocks"}]}
{"id":"bd-27","title":"[Migration Plan] Python gate/check stack -> premath-coherence core (phased parity plan)","description":"Planning/phase-order issue for migration from Python check/gate semantics to premath-coherence core.\nScope:\n- define phased boundary and parity criteria,\n- define witness/projection equivalence contract,\n- define cutover strategy and rollback safety.\nExecution changes land in downstream implementation issues (e.g., bd-34).","notes":"Migration boundary: move deterministic semantic/check kernels into premath-coherence first; keep Python/CI wrappers as adapters until parity proven. Required parity: identical projection digest, required checks, verdict class, and failure classes before deprecating duplicated Python logic.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-22T01:53:21.042584Z","updated_at":"2026-02-22T02:54:16.957854Z","ephemeral":false,"dependencies":[{"issue_id":"bd-27","depends_on_id":"bd-26","type":"blocks"},{"issue_id":"bd-27","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-28","title":"[EPIC] Unification + Reduction: universal KCIR, coherent typing, and event-memory architecture","description":"North-star unification program:\n- one canonical semantic pipeline: instruction/proposal -> typing/checking -> obligations -> discharge -> witness\n- one canonical substrate for long-lived memory and projections\n- one canonical intermediate representation boundary (KCIR) to reduce duplicate encodings\nAcceptance:\n1) coherent architecture doc and issue graph exists,\n2) core subtasks implemented with deterministic witnesses/vectors,\n3) command surface remains doctrine-gated and fail-closed.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-22T02:46:27.162673Z","updated_at":"2026-02-22T02:46:27.162681Z","ephemeral":false}
{"id":"bd-29","title":"[Memory] Canonical append-only event substrate + deterministic projections","description":"Introduce canonical .premath/memory/events.jsonl as authoritative append-only substrate. Derive issues/observation/ci views through deterministic reducers.\nAcceptance:\n- event schema v1 documented,\n- projection reducers implemented and replay-stable,\n- .premath/issues.jsonl treated as projection or explicitly synchronized view.","notes":"Completed canonical event-memory projection loop at CLI surface: added deterministic replay path `premath issue replay-events` (issue.event.v1 -> issues snapshot), with equivalence reporting to existing snapshots. Combined with prior `issue migrate-events`, issue memory now has deterministic snapshot<->event projection commands and smoke coverage for idempotent replay.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-22T02:46:34.700689Z","updated_at":"2026-02-22T03:19:14.153179Z","closed_at":"2026-02-22T03:19:14.153181Z","ephemeral":false,"dependencies":[{"issue_id":"bd-29","depends_on_id":"bd-28","type":"discovered-from"},{"issue_id":"bd-29","depends_on_id":"bd-40","type":"discovered-from"}]}
{"id":"bd-3","title":"Conformance: Doctrine-Site Coverage and Reachability Verification","description":"Review doctrine declarations and operation-site reachability checks to ensure doctrine-site coverage is complete and enforceable. Add missing declarations/tests where gaps are found.","notes":"Completed doctrine-site coverage/reachability verification. Audited doctrine-check pipeline and identified missing operation-site coverage for tools/conformance/run_doctrine_inf_vectors.py. Added op/conformance.doctrine_inf node + cover.ci membership + e.ci.op.doctrine_inf edge in DOCTRINE-SITE.json, updated DOCTRINE-SITE.md repository note, and added Decision 0028. Validated with mise run doctrine-check (nodes=20, edges=25, operations=8).","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-21T21:41:39.749635Z","updated_at":"2026-02-22T01:36:07.733676Z","closed_at":"2026-02-22T01:36:07.733677Z","ephemeral":false,"dependencies":[{"issue_id":"bd-3","depends_on_id":"bd-2","type":"blocks"}]}
{"id":"bd-30","title":"[Memory] Replay invariance + cache for event reducers and fixture pipelines","description":"Add replay invariance checks and content-addressed caching for memory/coherence reducers and fixture execution.\nAcceptance:\n- same input event stream yields identical projections,\n- cache keys bound to deterministic digests,\n- conformance vectors include reducer invariance adversarial/golden cases.","notes":"Implemented deterministic replay-cache binding for issue.event.v1 projections. Added event/snapshot refs (ev1_/iss1_), replay cache metadata and cache-hit short-circuit in the issue replay-events command, replay smoke coverage for cache-hit behavior, and executable change_morphisms vectors (golden/adversarial/invariance) for replay-cache determinism and ref-mismatch rejection. Baseline gate passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-22T02:46:34.724826Z","updated_at":"2026-02-22T03:29:42.324363Z","closed_at":"2026-02-22T03:29:37.156036Z","ephemeral":false,"dependencies":[{"issue_id":"bd-30","depends_on_id":"bd-29","type":"blocks"},{"issue_id":"bd-30","depends_on_id":"bd-28","type":"discovered-from"},{"issue_id":"bd-30","depends_on_id":"bd-40","type":"discovered-from"}]}
{"id":"bd-31","title":"[KCIR] Universalize KCIR as semantic IR for instruction/proposal/coherence boundaries","description":"Define and implement KCIR boundary so instruction proposals, checker obligations, and coherence evidence share one IR contract.\nAcceptance:\n- IR mapping spec for instruction/proposal -> KCIR forms,\n- deterministic witness lineage through KCIR refs,\n- removal/deprecation plan for duplicate non-KCIR semantic encodings.","notes":"Implemented KCIR-bound proposal identity slice across instruction/proposal checking: added canonical proposalKcirRef derivation/validation (kcir1_*), emitted proposalKcirRef in instruction witnesses and pipeline summaries, added adversarial instruction_typing vector proposal_kcir_ref_mismatch_reject, and updated LLM proposal/instruction doctrine docs plus Decision 0035. Baseline passes.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-22T02:46:34.802536Z","updated_at":"2026-02-22T03:37:13.218210Z","ephemeral":false,"dependencies":[{"issue_id":"bd-31","depends_on_id":"bd-29","type":"blocks"},{"issue_id":"bd-31","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-32","title":"[Typechecker] Compile typing judgments into coherence obligations/discharge","description":"Deeply integrate typechecker with coherence by compiling typing judgments into obligation sets and deterministic discharge witnesses, rather than parallel verdict paths.\nAcceptance:\n- explicit typed judgment -> obligation compilation contract,\n- shared failure class map with bidir/Gate,\n- checker outputs authoritative typed witness artifacts.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-22T02:46:42.961921Z","updated_at":"2026-02-22T02:54:21.452839Z","ephemeral":false,"dependencies":[{"issue_id":"bd-32","depends_on_id":"bd-31","type":"blocks"},{"issue_id":"bd-32","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-33","title":"[Conformance] Add coherence-contract capability vectors and cross-surface parity checks","description":"Unify coherence and conformance by making coherence-contract checks a first-class executable capability with golden/adversarial/invariance vectors.\nAcceptance:\n- capability fixture suite added,\n- vectors assert parity across docs/code/checker surfaces,\n- included in baseline and hook gates with cache-aware execution.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-22T02:46:42.974344Z","updated_at":"2026-02-22T02:54:21.464226Z","ephemeral":false,"dependencies":[{"issue_id":"bd-33","depends_on_id":"bd-32","type":"blocks"},{"issue_id":"bd-33","depends_on_id":"bd-34","type":"blocks"},{"issue_id":"bd-33","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-34","title":"[Migration Execution] Move Python checker/gate semantics into premath-coherence core (thin wrappers only)","description":"Implementation issue executing the bd-27 migration plan.\nScope:\n- move semantic/check kernels into Rust core,\n- retain Python/provider scripts as thin wrappers,\n- prove deterministic parity before deprecating duplicate Python logic.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-22T02:46:42.984607Z","updated_at":"2026-02-22T02:54:25.440186Z","ephemeral":false,"dependencies":[{"issue_id":"bd-34","depends_on_id":"bd-32","type":"blocks"},{"issue_id":"bd-34","depends_on_id":"bd-27","type":"blocks"},{"issue_id":"bd-34","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-35","title":"[Spec] Unification doctrine for minimum encoding with maximum expressiveness","description":"Author a compact architectural doctrine that formalizes unification/reduction constraints:\n- single authority boundary (checker+witness),\n- minimal encodings with maximal semantic expressiveness,\n- explicit anti-duplication rules for canonicalization/typing/discharge surfaces.\nAcceptance:\n- normative spec section added,\n- traceability + conformance hooks added,\n- design checklist applied to active migration issues.","notes":"Added draft/UNIFICATION-DOCTRINE as the architecture rule for minimum encoding with maximum expressiveness (single canonical authority encoding + deterministic projections). Wired into SPEC-INDEX and draft README, added traceability matrix row (instrumented), and recorded Decision 0036. Baseline/traceability/docs-coherence/coherence checks pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-22T02:46:46.740673Z","updated_at":"2026-02-22T03:40:02.287988Z","closed_at":"2026-02-22T03:40:02.287990Z","ephemeral":false,"dependencies":[{"issue_id":"bd-35","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-36","title":"[Milestone M1] Real backend profile + reference verifier implementation","description":"Track and execute Decision 0001 M1 milestone explicitly: implement at least one real backend profile and reference verifier path (project_ref/verify_ref) with deterministic normalization and Gate obligation discharge.\nAcceptance:\n- one non-toy backend profile implemented,\n- interop-full vectors pass against that profile,\n- witness parity and determinism documented.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-22T02:54:04.919869Z","updated_at":"2026-02-22T02:54:34.211787Z","ephemeral":false,"dependencies":[{"issue_id":"bd-36","depends_on_id":"bd-28","type":"discovered-from"},{"issue_id":"bd-36","depends_on_id":"bd-31","type":"blocks"},{"issue_id":"bd-36","depends_on_id":"bd-38","type":"blocks"}]}
{"id":"bd-37","title":"[Docs] Refresh ROADMAP or deprecate in favor of issue graph + decision log","description":"Resolve roadmap drift in specs/premath/raw/ROADMAP.md by either updating phases to current architecture state (coherence v1, observation, unification/reduction) or deprecating with explicit pointer to active issue graph + decision log as authoritative roadmap.\nAcceptance:\n- roadmap state no longer stale,\n- authoritative planning source is explicit,\n- docs coherence checks cover the chosen source.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-22T02:54:04.928873Z","updated_at":"2026-02-22T02:54:30.210706Z","ephemeral":false,"dependencies":[{"issue_id":"bd-37","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-38","title":"[Lifecycle] NORMALIZER status alignment (promote to draft or codify raw rationale)","description":"Resolve lifecycle inconsistency where raw/NORMALIZER is normative for Interop Full claims. Decide and implement one path:\nA) promote NORMALIZER to draft with traceability/conformance updates, or\nB) retain raw with explicit rationale + stability policy in SPEC-INDEX/decision-log.\nAcceptance:\n- lifecycle decision recorded,\n- SPEC-INDEX and traceability consistent,\n- conformance references aligned.","notes":"Promoted NORMALIZER from raw to draft lifecycle (moved to specs/premath/draft/NORMALIZER.md, status= draft), rewired Interop Full and cross-spec references to draft/NORMALIZER, and added NORMALIZER.md to SPEC-TRACEABILITY with executable coverage mapping. Baseline and traceability checks pass (draftSpecs=22, matrixRows=22).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-22T02:54:04.939724Z","updated_at":"2026-02-22T03:33:24.487751Z","closed_at":"2026-02-22T03:33:24.487752Z","ephemeral":false,"dependencies":[{"issue_id":"bd-38","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-39","title":"[Lifecycle] Optional capability raw-spec promotion policy (SQUEAK-SITE, TUSK-CORE)","description":"Define lifecycle policy for optional capability specs currently in raw status but actively exercised by conformance claims.\nScope:\n- raw/SQUEAK-SITE\n- raw/TUSK-CORE\nAcceptance:\n- explicit promote/retain criteria,\n- issue-backed promotion queue where applicable,\n- SPEC-INDEX wording aligned with policy.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-22T02:54:12.117121Z","updated_at":"2026-02-22T02:54:34.232058Z","ephemeral":false,"dependencies":[{"issue_id":"bd-39","depends_on_id":"bd-28","type":"discovered-from"},{"issue_id":"bd-39","depends_on_id":"bd-37","type":"blocks"}]}
{"id":"bd-4","title":"[EPIC] Coherence v1: Instruction-Governed Multiagent Control Plane","description":"Consolidate issue memory, instruction envelopes, policy/capability boundaries, and checker-discharge outputs into one auditable control plane where agents propose and the checker decides.","notes":"Coherence v1 epic closed after bd-10 completion. Completed stack: policy artifact registry, proposal->obligations->discharge witness surface, pre-execution reject witnesses, capability-gated mutation policy, multiagent claim/lease protocol, adjoints/sites capability vectors, and observation coherence dashboard + attention projections.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T23:06:40.461429Z","updated_at":"2026-02-22T01:24:24.967995Z","closed_at":"2026-02-22T01:24:24.967997Z","ephemeral":false}
{"id":"bd-40","title":"[EPIC] Issue System v2: deterministic task memory, workflows, and multiagent orchestration","description":"Upgrade the issue system into a first-class deterministic control substrate (not just a backlog list).\nScope:\n- unify issue state with append-only event memory and projection reducers,\n- enrich dependency semantics (blocks/conditional/waits-for/parental views) without ambiguity,\n- integrate claim/lease lifecycles and contention/staleness handling as first-class typed transitions,\n- support workflow views (execution graph, GTD/task modes) as derived projections,\n- bind issue mutations to instruction/witness authority boundaries.\nAcceptance:\n1) v2 issue-memory spec + migration strategy,\n2) deterministic reducers + invariance vectors,\n3) doctrine-gated mutation surface with typed witnesses,\n4) observation projections for orchestration health and flow coherence.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-22T02:56:05.223559Z","updated_at":"2026-02-22T02:56:10.635216Z","ephemeral":false,"dependencies":[{"issue_id":"bd-40","depends_on_id":"bd-28","type":"discovered-from"}]}
{"id":"bd-41","title":"[Issue v2] Event schema v1 + migration from issues JSONL","description":"Define canonical issue-memory event schema (`issue.event.v1`) and migration path from `.premath/issues.jsonl` snapshots to append-only events.\nAcceptance:\n- schema + invariants documented,\n- deterministic migration tool emits identical logical issue state after replay,\n- backfill/provenance fields preserved (created/updated/closed/dependency mutations).","notes":"Implemented issue.event.v1 in premath-bd with deterministic migration from snapshot JSONL, event JSONL read/write, replay, deferred dependency resolution, and replay equivalence check. Added CLI subcommand `premath issue migrate-events` with replay verification and JSON output. Added unit tests in premath-bd and CLI smoke test. Verified with `cargo test -p premath-bd` and `cargo test -p premath-cli`.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2026-02-22T02:56:53.018386Z","updated_at":"2026-02-22T03:03:26.850681Z","closed_at":"2026-02-22T03:03:26.850683Z","ephemeral":false,"dependencies":[{"issue_id":"bd-41","depends_on_id":"bd-40","type":"discovered-from"}]}
{"id":"bd-42","title":"[Issue v2] Dependency semantics v2 + projection views (execution/GTD/groupoid)","description":"Refine dependency model semantics and expose multiple deterministic projections over one substrate.\nScope:\n- clarify semantics for blocks/conditional-blocks/waits-for/parent-child/discovered-from,\n- add projection views for execution readiness, GTD-style workflow buckets, and higher-order relation views.\nAcceptance:\n- semantics spec + compatibility rules,\n- deterministic projection reducers,\n- conformance vectors for semantic invariance and edge-case conflict handling.","notes":"Implemented dependency semantics v2 projections with minimal encoding: canonical DepType retained; added DependencyView (execution/gtd/groupoid), deterministic role mapping, and projection rows in premath-bd. Added CLI subcommand `premath dep project --view <execution|gtd|groupoid>`. Added unit tests for view role mapping and CLI smoke coverage for dep project views. Verified with `cargo test -p premath-bd` and `cargo test -p premath-cli`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-22T02:56:53.110400Z","updated_at":"2026-02-22T03:05:01.705433Z","closed_at":"2026-02-22T03:05:01.705436Z","ephemeral":false,"dependencies":[{"issue_id":"bd-42","depends_on_id":"bd-40","type":"discovered-from"},{"issue_id":"bd-42","depends_on_id":"bd-41","type":"blocks"}]}
{"id":"bd-43","title":"[Issue v2] Lease/workflow state machine + orchestration invariance vectors","description":"Formalize issue mutation lifecycle as a typed state machine and prove deterministic orchestration behavior under contention.\nScope:\n- claim/renew/release transitions + failure-class mapping,\n- stale/contended lease projections and repair semantics,\n- witness-linked mutation authorization contract.\nAcceptance:\n- state-machine spec + implementation,\n- adversarial vectors for contention/stale/owner-mismatch/id-mismatch,\n- observation projections expose orchestration health deterministically.","notes":"Implemented lease/workflow state-machine coherence tightening across runtime + vectors: (1) added MCP tests for stale-lease reclaim reassignment and explicit invalid TTL/expiry rejection; (2) aligned change_morphisms conformance evaluator with runtime lease semantics (stale reclaim, lease binding ambiguity, TTL range, future expiry checks, runtime lease-id tokenization); (3) added new vectors for stale reclaim golden path and invalid claim expiry/ttl adversarial paths. Verified via `python3 tools/conformance/run_capability_vectors.py --capability capabilities.change_morphisms` and `cargo test -p premath-cli`.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-22T02:56:53.132249Z","updated_at":"2026-02-22T03:16:59.289744Z","closed_at":"2026-02-22T03:16:59.289764Z","ephemeral":false,"dependencies":[{"issue_id":"bd-43","depends_on_id":"bd-40","type":"discovered-from"},{"issue_id":"bd-43","depends_on_id":"bd-41","type":"blocks"}]}
{"id":"bd-5","title":"[Coherence v1] Policy Artifact Registry + Digest Verification","description":"Replace hardcoded instruction check allowlists with canonical policy artifacts (JSON) whose content hash equals policyDigest. Checker/runner must resolve policy by digest and reject unknown or mismatched policies fail-closed.","notes":"Completed. Replaced hardcoded instruction policy allowlist with canonical policy artifact registry under policies/instruction/*.json. Enforced policyDigest as canonical pol1 digest, validated artifact digest integrity, validated requestedChecks allowlist and normalizer allowlist, updated instruction/conformance fixtures to digest policy bindings, and passed full baseline.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T23:06:48.462046Z","updated_at":"2026-02-21T23:26:34.442335Z","closed_at":"2026-02-21T23:26:34.442336Z","ephemeral":false,"dependencies":[{"issue_id":"bd-5","depends_on_id":"bd-4","type":"discovered-from"}]}
{"id":"bd-6","title":"[Coherence v1] Proposal -> Obligations -> Discharge Witness Surface","description":"Extend instruction proposal ingestion so output includes obligations[] and discharge[] artifacts, not only proposal digest/classification. Ensure LLM proposals remain checking-mode only and acceptance is discharge-determined.","notes":"Implemented proposal -> obligations -> discharge witness surface in instruction runtime and conformance vectors. Added deterministic compile/discharge functions (tools/ci/instruction_proposal.py), proposal discharge gating in tools/ci/run_instruction.py, and witness emission of proposalIngest.obligations + proposalIngest.discharge. Added adversarial vectors for ext_gap -> descent_failure and ext_ambiguous -> glue_non_contractible determinism checks under capabilities.instruction_typing.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T23:06:51.520507Z","updated_at":"2026-02-21T23:32:55.730409Z","closed_at":"2026-02-21T23:32:55.730411Z","ephemeral":false,"dependencies":[{"issue_id":"bd-6","depends_on_id":"bd-5","type":"blocks"},{"issue_id":"bd-6","depends_on_id":"bd-4","type":"discovered-from"}]}
{"id":"bd-7","title":"[Coherence v1] First-Class Instruction Reject Witnesses","description":"When instruction validation fails pre-execution (schema/policy/proposal binding), emit typed reject witness artifacts with deterministic failureClasses instead of only stderr/exit code.","notes":"Implemented first-class pre-execution reject witnesses. tools/ci/run_instruction.py now emits deterministic rejected ci.instruction.v1 artifacts with rejectStage=pre_execution and typed failureClasses on envelope/policy/proposal validation failures. tools/ci/pipeline_instruction.py now guarantees witness emission even when envelope check fails. Added tests in tools/ci/test_instruction_reject_witness.py, added ci-pipeline-test coverage, and extended ci_witnesses capability vectors with reject-witness determinism/mismatch cases.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T23:06:54.527190Z","updated_at":"2026-02-21T23:40:55.846448Z","closed_at":"2026-02-21T23:40:55.846452Z","ephemeral":false,"dependencies":[{"issue_id":"bd-7","depends_on_id":"bd-6","type":"blocks"},{"issue_id":"bd-7","depends_on_id":"bd-4","type":"discovered-from"}]}
{"id":"bd-8","title":"[Coherence v1] Capability-Gated Issue Mutation Policy","description":"Bind issue/dep mutation permission to instruction witness capabilities (not only instruction presence). Enforce per-action capability claims and policy scoping for issue_add/update/claim/discover/dep_add.","notes":"Implemented capability-gated instruction-linked mutation policy. MCP issue/dep mutations now require accepted instruction witness with allowed policyDigest scope and capabilityClaims containing base capabilities.change_morphisms plus per-action claim (or capabilities.change_morphisms.all). Added Rust unit tests for unscoped policy reject, missing action claim reject, and dep_add action claim enforcement. Instruction envelopes/witnesses now support optional capabilityClaims; checker validates list shape and runner emits claims into witness.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T23:06:58.248792Z","updated_at":"2026-02-21T23:50:37.219793Z","closed_at":"2026-02-21T23:50:37.219795Z","ephemeral":false,"dependencies":[{"issue_id":"bd-8","depends_on_id":"bd-5","type":"blocks"},{"issue_id":"bd-8","depends_on_id":"bd-4","type":"discovered-from"}]}
{"id":"bd-9","title":"[Coherence v1] Multiagent Claim/Lease Protocol","description":"Add deterministic claim leases for ready issues (owner, lease_id, expiry, renew/release) to reduce multiagent collision and implicit work stealing. Include failure classes and observation projections for stale/contended leases.","notes":"Implemented deterministic multiagent claim-lease protocol in premath runtime: added first-class Issue lease state (lease_id, owner, acquired_at, expires_at, renewed_at), lease-aware issue_claim with deterministic failure classes, new MCP mutations issue_lease_renew and issue_lease_release, and read model issue_lease_projection for stale/contended leases. Mutation policy gating extended with per-action capability claims for lease renew/release. Added Rust unit tests for claim/renew/release/projection behavior and stale renew rejection. Extended capabilities.change_morphisms executable vectors with lease claim/lease projection golden/adversarial cases. Updated CAPABILITY-VECTORS, CONFORMANCE, README, ARCHITECTURE-MAP, and decision log (Decision 0019).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T23:07:01.386807Z","updated_at":"2026-02-22T00:03:33.408910Z","closed_at":"2026-02-22T00:03:33.408912Z","ephemeral":false,"dependencies":[{"issue_id":"bd-9","depends_on_id":"bd-8","type":"blocks"},{"issue_id":"bd-9","depends_on_id":"bd-4","type":"discovered-from"}]}
