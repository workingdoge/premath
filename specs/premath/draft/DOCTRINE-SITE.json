{
  "siteId": "premath.doctrine_operation_site.v0",
  "version": "v0",
  "doctrineSpecPath": "specs/premath/draft/DOCTRINE-INF.md",
  "nodes": [
    {
      "id": "draft/DOCTRINE-INF",
      "path": "specs/premath/draft/DOCTRINE-INF.md",
      "kind": "doctrine",
      "requiresDeclaration": false
    },
    {
      "id": "draft/PREMATH-KERNEL",
      "path": "specs/premath/draft/PREMATH-KERNEL.md",
      "kind": "kernel",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.identity",
          "dm.policy.rebind",
          "dm.refine.context",
          "dm.refine.cover"
        ],
        "notPreserved": [
          "dm.presentation.projection",
          "dm.profile.execution",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "draft/GATE",
      "path": "specs/premath/draft/GATE.md",
      "kind": "kernel-gate",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.identity",
          "dm.policy.rebind",
          "dm.profile.evidence",
          "dm.refine.context",
          "dm.refine.cover"
        ],
        "notPreserved": [
          "dm.presentation.projection",
          "dm.profile.execution",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "draft/BIDIR-DESCENT",
      "path": "specs/premath/draft/BIDIR-DESCENT.md",
      "kind": "kernel-obligation",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.identity",
          "dm.policy.rebind",
          "dm.profile.evidence",
          "dm.refine.context",
          "dm.refine.cover"
        ],
        "notPreserved": [
          "dm.presentation.projection",
          "dm.profile.execution",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "draft/CONFORMANCE",
      "path": "specs/premath/draft/CONFORMANCE.md",
      "kind": "conformance",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.commitment.attest",
          "dm.identity",
          "dm.presentation.projection",
          "dm.profile.evidence"
        ],
        "notPreserved": [
          "dm.refine.context",
          "dm.refine.cover",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "draft/LLM-INSTRUCTION-DOCTRINE",
      "path": "specs/premath/draft/LLM-INSTRUCTION-DOCTRINE.md",
      "kind": "instruction-doctrine",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.commitment.attest",
          "dm.identity",
          "dm.policy.rebind",
          "dm.presentation.projection",
          "dm.profile.execution"
        ],
        "notPreserved": [
          "dm.profile.evidence",
          "dm.refine.context",
          "dm.refine.cover",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "raw/TUSK-CORE",
      "path": "specs/premath/raw/TUSK-CORE.md",
      "kind": "runtime-local",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.identity",
          "dm.policy.rebind",
          "dm.profile.evidence",
          "dm.profile.execution",
          "dm.refine.context",
          "dm.refine.cover"
        ],
        "notPreserved": [
          "dm.presentation.projection",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "raw/SQUEAK-CORE",
      "path": "specs/premath/raw/SQUEAK-CORE.md",
      "kind": "runtime-transport",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.identity",
          "dm.profile.evidence",
          "dm.transport.world"
        ],
        "notPreserved": [
          "dm.presentation.projection",
          "dm.refine.context",
          "dm.refine.cover",
          "dm.transport.location"
        ]
      }
    },
    {
      "id": "raw/SQUEAK-SITE",
      "path": "specs/premath/raw/SQUEAK-SITE.md",
      "kind": "runtime-location-site",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.identity",
          "dm.profile.evidence",
          "dm.profile.execution",
          "dm.refine.cover",
          "dm.transport.location"
        ],
        "notPreserved": [
          "dm.presentation.projection",
          "dm.refine.context",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "raw/PREMATH-CI",
      "path": "specs/premath/raw/PREMATH-CI.md",
      "kind": "ci-control-loop",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.commitment.attest",
          "dm.identity",
          "dm.presentation.projection",
          "dm.profile.evidence",
          "dm.profile.execution"
        ],
        "notPreserved": [
          "dm.refine.context",
          "dm.refine.cover",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "raw/CI-TOPOS",
      "path": "specs/premath/raw/CI-TOPOS.md",
      "kind": "ci-projection",
      "requiresDeclaration": true,
      "declares": {
        "preserved": [
          "dm.commitment.attest",
          "dm.identity",
          "dm.presentation.projection",
          "dm.profile.execution"
        ],
        "notPreserved": [
          "dm.profile.evidence",
          "dm.refine.context",
          "dm.refine.cover",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    },
    {
      "id": "op/ci.run_gate",
      "path": "tools/ci/run_gate.sh",
      "kind": "operation",
      "requiresDeclaration": false
    },
    {
      "id": "op/ci.run_instruction",
      "path": "tools/ci/run_instruction.sh",
      "kind": "operation",
      "requiresDeclaration": false
    },
    {
      "id": "op/ci.verify_required_witness",
      "path": "tools/ci/verify_required_witness.py",
      "kind": "operation",
      "requiresDeclaration": false
    },
    {
      "id": "op/ci.decide_required",
      "path": "tools/ci/decide_required.py",
      "kind": "operation",
      "requiresDeclaration": false
    },
    {
      "id": "op/conformance.stub",
      "path": "tools/conformance/check_stub_invariance.py",
      "kind": "operation",
      "requiresDeclaration": false
    },
    {
      "id": "op/conformance.capability",
      "path": "tools/conformance/run_capability_vectors.py",
      "kind": "operation",
      "requiresDeclaration": false
    },
    {
      "id": "op/conformance.doctrine",
      "path": "tools/conformance/check_doctrine_site.py",
      "kind": "operation",
      "requiresDeclaration": false
    }
  ],
  "covers": [
    {
      "id": "cover.kernel",
      "over": "draft/DOCTRINE-INF",
      "parts": [
        "draft/PREMATH-KERNEL",
        "draft/GATE",
        "draft/CONFORMANCE"
      ]
    },
    {
      "id": "cover.runtime",
      "over": "draft/PREMATH-KERNEL",
      "parts": [
        "draft/BIDIR-DESCENT",
        "raw/TUSK-CORE",
        "raw/SQUEAK-CORE",
        "raw/SQUEAK-SITE"
      ]
    },
    {
      "id": "cover.ci",
      "over": "raw/PREMATH-CI",
      "parts": [
        "draft/LLM-INSTRUCTION-DOCTRINE",
        "raw/CI-TOPOS",
        "op/ci.run_gate",
        "op/ci.run_instruction",
        "op/ci.verify_required_witness",
        "op/ci.decide_required",
        "op/conformance.stub",
        "op/conformance.capability",
        "op/conformance.doctrine"
      ]
    }
  ],
  "edges": [
    {
      "id": "e.doctrine.kernel",
      "from": "draft/DOCTRINE-INF",
      "to": "draft/PREMATH-KERNEL",
      "morphisms": [
        "dm.identity",
        "dm.refine.context",
        "dm.refine.cover",
        "dm.policy.rebind"
      ]
    },
    {
      "id": "e.doctrine.gate",
      "from": "draft/DOCTRINE-INF",
      "to": "draft/GATE",
      "morphisms": [
        "dm.identity",
        "dm.refine.context",
        "dm.refine.cover",
        "dm.profile.evidence",
        "dm.policy.rebind"
      ]
    },
    {
      "id": "e.doctrine.conformance",
      "from": "draft/DOCTRINE-INF",
      "to": "draft/CONFORMANCE",
      "morphisms": [
        "dm.identity",
        "dm.profile.evidence",
        "dm.presentation.projection",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.doctrine.llm_instruction",
      "from": "draft/DOCTRINE-INF",
      "to": "draft/LLM-INSTRUCTION-DOCTRINE",
      "morphisms": [
        "dm.identity",
        "dm.policy.rebind",
        "dm.profile.execution",
        "dm.presentation.projection",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.kernel.bidir",
      "from": "draft/PREMATH-KERNEL",
      "to": "draft/BIDIR-DESCENT",
      "morphisms": [
        "dm.identity",
        "dm.refine.context",
        "dm.refine.cover",
        "dm.profile.evidence",
        "dm.policy.rebind"
      ]
    },
    {
      "id": "e.kernel.tusk",
      "from": "draft/PREMATH-KERNEL",
      "to": "raw/TUSK-CORE",
      "morphisms": [
        "dm.identity",
        "dm.refine.context",
        "dm.refine.cover",
        "dm.profile.execution",
        "dm.profile.evidence",
        "dm.policy.rebind"
      ]
    },
    {
      "id": "e.tusk.squeak_core",
      "from": "raw/TUSK-CORE",
      "to": "raw/SQUEAK-CORE",
      "morphisms": [
        "dm.identity",
        "dm.transport.world",
        "dm.profile.evidence"
      ]
    },
    {
      "id": "e.squeak_core.site",
      "from": "raw/SQUEAK-CORE",
      "to": "raw/SQUEAK-SITE",
      "morphisms": [
        "dm.identity",
        "dm.transport.location",
        "dm.refine.cover",
        "dm.profile.execution",
        "dm.profile.evidence"
      ]
    },
    {
      "id": "e.gate.ci",
      "from": "draft/GATE",
      "to": "raw/PREMATH-CI",
      "morphisms": [
        "dm.identity",
        "dm.profile.execution",
        "dm.profile.evidence",
        "dm.presentation.projection"
      ]
    },
    {
      "id": "e.conformance.ci",
      "from": "draft/CONFORMANCE",
      "to": "raw/PREMATH-CI",
      "morphisms": [
        "dm.identity",
        "dm.commitment.attest",
        "dm.presentation.projection"
      ]
    },
    {
      "id": "e.ci.topos",
      "from": "raw/PREMATH-CI",
      "to": "raw/CI-TOPOS",
      "morphisms": [
        "dm.identity",
        "dm.profile.execution",
        "dm.commitment.attest",
        "dm.presentation.projection"
      ]
    },
    {
      "id": "e.ci.llm_instruction",
      "from": "raw/PREMATH-CI",
      "to": "draft/LLM-INSTRUCTION-DOCTRINE",
      "morphisms": [
        "dm.identity",
        "dm.profile.execution",
        "dm.presentation.projection",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.llm_instruction.op.run_instruction",
      "from": "draft/LLM-INSTRUCTION-DOCTRINE",
      "to": "op/ci.run_instruction",
      "morphisms": [
        "dm.identity",
        "dm.profile.execution",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.ci.op.run_gate",
      "from": "raw/PREMATH-CI",
      "to": "op/ci.run_gate",
      "morphisms": [
        "dm.identity",
        "dm.profile.execution"
      ]
    },
    {
      "id": "e.ci.op.run_instruction",
      "from": "raw/PREMATH-CI",
      "to": "op/ci.run_instruction",
      "morphisms": [
        "dm.identity",
        "dm.profile.execution",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.ci.op.verify_required_witness",
      "from": "raw/PREMATH-CI",
      "to": "op/ci.verify_required_witness",
      "morphisms": [
        "dm.identity",
        "dm.presentation.projection",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.ci.op.decide_required",
      "from": "raw/PREMATH-CI",
      "to": "op/ci.decide_required",
      "morphisms": [
        "dm.identity",
        "dm.presentation.projection",
        "dm.commitment.attest"
      ]
    },
    {
      "id": "e.ci.op.stub",
      "from": "raw/PREMATH-CI",
      "to": "op/conformance.stub",
      "morphisms": [
        "dm.identity",
        "dm.presentation.projection"
      ]
    },
    {
      "id": "e.ci.op.capability",
      "from": "raw/PREMATH-CI",
      "to": "op/conformance.capability",
      "morphisms": [
        "dm.identity",
        "dm.profile.evidence",
        "dm.presentation.projection"
      ]
    },
    {
      "id": "e.ci.op.doctrine",
      "from": "raw/PREMATH-CI",
      "to": "op/conformance.doctrine",
      "morphisms": [
        "dm.identity",
        "dm.presentation.projection"
      ]
    }
  ]
}
