{
  "schema": 1,
  "suiteId": "runtime-orchestration",
  "vectorId": "golden/mapping_rows_bound_accept",
  "controlPlaneContract": {
    "runtimeRouteBindings": {
      "requiredOperationRoutes": {
        "runGate": {
          "operationId": "op/ci.run_gate",
          "requiredMorphisms": [
            "dm.identity",
            "dm.profile.execution",
            "dm.transport.location",
            "dm.transport.world"
          ]
        }
      }
    },
    "commandSurface": {
      "governancePromotionCheck": {
        "canonicalEntrypoint": [
          "cargo",
          "run",
          "--package",
          "premath-cli",
          "--",
          "governance-promotion-check"
        ]
      },
      "kcirMappingCheck": {
        "canonicalEntrypoint": [
          "cargo",
          "run",
          "--package",
          "premath-cli",
          "--",
          "kcir-mapping-check"
        ]
      }
    },
    "controlPlaneKcirMappings": {
      "mappingTable": {
        "instructionEnvelope": {
          "sourceKind": "ci.instruction.envelope.v1",
          "targetDomain": "kcir.node",
          "targetKind": "ci.instruction.v1",
          "identityFields": [
            "instructionDigest",
            "normalizerId",
            "policyDigest"
          ]
        },
        "proposalPayload": {
          "sourceKind": "ci.instruction.proposal.v1",
          "targetDomain": "kcir.node",
          "targetKind": "ci.proposal.payload.v1",
          "identityFields": [
            "proposalDigest",
            "proposalKcirRef",
            "policyDigest"
          ]
        },
        "coherenceCheckPayload": {
          "sourceKind": "premath.coherence.v1",
          "targetDomain": "kcir.node",
          "targetKind": "premath.coherence.projection.v1",
          "identityFields": [
            "contractDigest",
            "normalizerId",
            "policyDigest"
          ]
        },
        "requiredDecisionInput": {
          "sourceKind": "ci.required.decision.input.v1",
          "targetDomain": "kcir.node",
          "targetKind": "ci.required.decision.v1",
          "identityFields": [
            "requiredDigest",
            "decisionDigest",
            "policyDigest"
          ]
        },
        "coherenceObligations": {
          "sourceKind": "premath.coherence.obligations.v1",
          "targetDomain": "kcir.node",
          "targetKind": "premath.coherence.obligation_set.v1",
          "identityFields": [
            "obligationDigest",
            "normalizerId",
            "policyDigest"
          ]
        },
        "doctrineRouteBinding": {
          "sourceKind": "premath.doctrine.route.binding.v1",
          "targetDomain": "kcir.node",
          "targetKind": "premath.doctrine.route.binding.v1",
          "identityFields": [
            "operationId",
            "siteDigest",
            "policyDigest"
          ]
        },
        "fiberLifecycleAction": {
          "sourceKind": "transport.fiber.lifecycle.v1",
          "targetDomain": "kcir.node",
          "targetKind": "transport.fiber.lifecycle.witness.v1",
          "identityFields": [
            "actionId",
            "semanticDigest",
            "policyDigest"
          ]
        }
      }
    },
    "worldDescentContract": {
      "contractId": "doctrine.world_descent.v1",
      "requiredRouteFamilies": [
        "route.gate_execution",
        "route.instruction_execution",
        "route.required_decision_attestation",
        "route.fiber.lifecycle",
        "route.issue_claim_lease",
        "route.session_projection",
        "route.transport.dispatch"
      ],
      "requiredActionRouteBindings": {
        "route.instruction_execution": [
          "instruction.run"
        ],
        "route.required_decision_attestation": [
          "required.witness_verify",
          "required.witness_decide"
        ],
        "route.fiber.lifecycle": [
          "fiber.spawn",
          "fiber.join",
          "fiber.cancel"
        ],
        "route.issue_claim_lease": [
          "issue.claim_next",
          "issue.claim",
          "issue.lease_renew",
          "issue.lease_release",
          "issue.discover"
        ]
      },
      "requiredStaticOperationBindings": {
        "route.transport.dispatch": [
          "op/transport.world_route_binding"
        ]
      },
      "failureClasses": {
        "identityMissing": "world_route_identity_missing",
        "descentDataMissing": "world_descent_data_missing",
        "kcirHandoffIdentityMissing": "kcir_handoff_identity_missing"
      }
    }
  },
  "doctrineOpRegistry": {
    "operations": [
      {
        "id": "op/ci.run_gate",
        "path": "tools/ci/run_gate.sh",
        "morphisms": [
          "dm.identity",
          "dm.profile.execution",
          "dm.transport.location",
          "dm.transport.world"
        ]
      }
    ]
  },
  "harnessRuntimeText": "## 1.2 Harness-Squeak composition boundary (required)\nHarness computes deterministic work context and witness lineage refs.\nSqueak performs transport/runtime-placement mapping and emits transport-class witness outcomes.\nDestination Tusk/Gate performs destination-local admissibility checks and emits Gate-class outcomes.\nHarness records the resulting references in session/trajectory projections."
}
