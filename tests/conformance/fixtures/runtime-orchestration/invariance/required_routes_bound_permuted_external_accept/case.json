{
  "schema": 1,
  "suiteId": "runtime-orchestration",
  "vectorId": "invariance/required_routes_bound_permuted_external_accept",
  "semanticScenarioId": "required_routes_bound_permuted",
  "profile": "external",
  "controlPlaneContract": {
    "runtimeRouteBindings": {
      "requiredOperationRoutes": {
        "runGate": {
          "operationId": "op/ci.run_gate",
          "requiredMorphisms": [
            "dm.profile.execution",
            "dm.transport.location",
            "dm.identity",
            "dm.transport.world"
          ]
        },
        "runGateTerraform": {
          "operationId": "op/ci.run_gate_terraform",
          "requiredMorphisms": [
            "dm.profile.execution",
            "dm.transport.location",
            "dm.identity",
            "dm.transport.world"
          ]
        }
      }
    },
    "commandSurface": {
      "governancePromotionCheck": {
        "canonicalEntrypoint": [
          "cargo",
          "run",
          "--package",
          "premath-cli",
          "--",
          "governance-promotion-check"
        ]
      },
      "kcirMappingCheck": {
        "canonicalEntrypoint": [
          "cargo",
          "run",
          "--package",
          "premath-cli",
          "--",
          "kcir-mapping-check"
        ]
      }
    },
    "worldDescentContract": {
      "contractId": "doctrine.world_descent.v1",
      "requiredRouteFamilies": [
        "route.gate_execution",
        "route.instruction_execution",
        "route.required_decision_attestation",
        "route.fiber.lifecycle",
        "route.issue_claim_lease",
        "route.session_projection",
        "route.transport.dispatch"
      ],
      "requiredActionRouteBindings": {
        "route.instruction_execution": [
          "instruction.run"
        ],
        "route.required_decision_attestation": [
          "required.witness_verify",
          "required.witness_decide"
        ],
        "route.fiber.lifecycle": [
          "fiber.spawn",
          "fiber.join",
          "fiber.cancel"
        ],
        "route.issue_claim_lease": [
          "issue.claim_next",
          "issue.claim",
          "issue.lease_renew",
          "issue.lease_release",
          "issue.discover"
        ]
      },
      "requiredStaticOperationBindings": {
        "route.transport.dispatch": [
          "op/transport.world_route_binding"
        ]
      },
      "failureClasses": {
        "identityMissing": "world_route_identity_missing",
        "descentDataMissing": "world_descent_data_missing",
        "kcirHandoffIdentityMissing": "kcir_handoff_identity_missing"
      }
    }
  },
  "doctrineOpRegistry": {
    "operations": [
      {
        "id": "op/ci.run_gate",
        "path": "tools/ci/run_gate.sh",
        "morphisms": [
          "dm.identity",
          "dm.transport.world",
          "dm.transport.location",
          "dm.profile.execution"
        ]
      },
      {
        "id": "op/ci.run_gate_terraform",
        "path": "tools/ci/run_gate_terraform.sh",
        "morphisms": [
          "dm.identity",
          "dm.transport.world",
          "dm.transport.location",
          "dm.profile.execution"
        ]
      }
    ]
  },
  "harnessRuntimeText": "## 1.2 Harness-Squeak composition boundary (required)\nHarness computes deterministic work context and witness lineage refs.\nSqueak performs transport/runtime-placement mapping and emits transport-class witness outcomes.\nDestination Tusk/Gate performs destination-local admissibility checks and emits Gate-class outcomes.\nHarness records the resulting references in session/trajectory projections."
}
