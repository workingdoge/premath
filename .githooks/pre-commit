#!/usr/bin/env sh
set -eu

repo_root="$(git rev-parse --show-toplevel)"
cd "$repo_root"

if command -v just >/dev/null 2>&1; then
  just precommit
  exit 0
fi

echo "[pre-commit] just not found; running fallback gate"

python3 tools/ci/run_required_checks.py
